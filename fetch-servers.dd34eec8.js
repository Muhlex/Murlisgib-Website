parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"NiJU":[function(require,module,exports) {
const e=[{url:"https://eu.gib.murl.is/serverinfo.txt"}];function t(e){"loading"!=document.readyState?e():document.addEventListener("DOMContentLoaded",e)}function n(e,t){const n=[];let r=0;for(;r<e.length;)n.push(e.slice(r,t+r)),r+=t;return n}function r(e,t){const n=new RegExp("".concat(t," *: (.*)")),r=e.find(e=>e.match(n));return r&&r.match(n)[1]}function o(e){return n(e.split("\n"),6).map(e=>{const t=r(e,"players");return{port:Number(r(e,"port")),online:Boolean(Number(r(e,"online"))),hostname:r(e,"hostname"),map:r(e,"map"),players:t&&Number(t.match(/(\d+) humans/)[1]),bots:t&&Number(t.match(/(\d+) bots/)[1]),maxplayers:t&&Number(t.match(/(\d+)\/\d+ max/)[1])}})}function a(e){return e.toLowerCase().split(" ").map(function(e){return e[0].toUpperCase()+e.slice(1)}).join(" ")}function s(e,t=""){const n=e.match(/.*\/(.*)/);let r=n?n[1]:e;return r.toLowerCase().startsWith(t.toLowerCase())&&(r=r.slice(t.length)),a(r.replace(/_/g," "))}function c(e,t){const n=document.querySelector("[data-server-cluster-index='".concat(e,"']")),r=n.querySelectorAll("[data-server-index]");n.classList.add("synced"),t.forEach(({online:e,players:t,maxplayers:n,map:o},a)=>{const c=r[a].querySelector(".servers__map"),i=r[a].querySelector(".servers__players"),l=r[a].querySelector(".servers__status");c.innerHTML=o?s(o,"mg_"):"&ndash;",i.innerHTML=isNaN(t)?"&ndash;":"".concat(t,"/").concat(n||"?"),l.innerHTML=e?"Online":"Offline",r[a].classList.remove(e?"offline":"online"),r[a].classList.add(e?"online":"offline")})}async function i(){e.forEach(async({url:e},n)=>{let r=[];try{const t=await fetch(e),s=await t.text();r=o(s)}catch(a){console.warn("Could not fetch data for cluster",n,"at",e),console.error(a)}t(()=>c(n,r))})}i();const l=60;let u=window.setInterval(i,6e4);document.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState?(i(),u=window.setInterval(i,6e4)):window.clearInterval(u)});
},{}]},{},["NiJU"], null)
//# sourceMappingURL=fetch-servers.dd34eec8.js.map